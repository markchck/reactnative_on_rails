(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{101:function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var o=n(0),r=n(12),c=n.n(r),i=n(24),s=n.n(i),a=n(99),u=n(3),l=n(21),b=n(56),j=n(44),h=n(7),p=n(100),d=n(156),O=n(157),f=n(72),x=n.n(f),y=n(2);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v="http://localhost:3000/api/v1";var w=u.a.create({container:{flex:1,backgroundColor:"white"},header:{flexDirection:"row",marginTop:30,marginBottom:50,backgroundColor:"green",justifyContent:"space-around"},body:{backgroundColor:"tomato"},input:{backgroundColor:"pink",alignItems:"center"},textInput:{backgroundColor:"green"},output:{flexDirection:"row",backgroundColor:"blue",height:25},trashButton:{position:"absolute",right:0},editButton:{position:"absolute",right:25}}),k=function(){var t=Object(o.useState)({}),e=s()(t,2),n=e[0],r=e[1],c=Object(o.useState)(""),i=s()(c,2),u=i[0],f=i[1],g=Object(o.useState)("post"),k=s()(g,2),P=k[0],S=k[1],C=Object(o.useState)(null),D=s()(C,2),E=D[0],T=D[1];Object(o.useEffect)((function(){x.a.get(v+"/notes").then((function(t){r(t.data.data)})).catch((function(t){console.log(JSON.stringify(t))}))}),[n.length]);var B=function(){fetch(v+"/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:u})}).then((function(t){return r(n.push({attributes:{text:u}}))})).catch((function(t){return console.log(t)}))},J=function(){fetch(v+"/notes/"+n[E].id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:u})}).then((function(t){var e=m({},n);r(e),f(""),S("post")})).catch((function(t){return console.log(t)}))},I=Object.keys(n).map((function(t){return Object(y.jsxs)(h.a,{style:w.output,children:[Object(y.jsxs)(l.a,{children:[" ",n[t].attributes.text]}),Object(y.jsx)(j.a,{style:w.editButton,onPress:function(){return function(t){f(n[t].attributes.text),S("update"),T(t)}(t)},children:Object(y.jsx)(d.a,{name:"edit",size:24,color:"white"})}),Object(y.jsx)(j.a,{style:w.trashButton,onPress:function(){return function(t){confirm("Do you want to delete?")&&fetch(v+"/notes/"+n[t].id,{method:"DELETE"}).then((function(t){var e=m({},n);r(e),f("")}))}(t)},children:Object(y.jsx)(O.a,{name:"trash",size:20,color:"white"})})]},t)}));return Object(y.jsxs)(h.a,{style:w.container,children:[Object(y.jsx)(a.a,{style:"auto"}),Object(y.jsxs)(h.a,{style:w.header,children:[Object(y.jsx)(j.a,{children:Object(y.jsx)(l.a,{children:"work"})}),Object(y.jsx)(j.a,{children:Object(y.jsx)(l.a,{children:"travel"})})]}),Object(y.jsxs)(h.a,{style:w.body,children:["post"===P?Object(y.jsx)(h.a,{style:w.input,children:Object(y.jsx)(b.a,{style:w.textInput,value:u,onChangeText:f,onSubmitEditing:B})}):"update"===P?Object(y.jsx)(h.a,{style:w.input,children:Object(y.jsx)(b.a,{style:w.textInput,value:u,onChangeText:f,onSubmitEditing:J})}):void 0,Object(y.jsx)(p.a,{children:I})]})]})};function P(){return Object(y.jsx)(k,{})}},102:function(t,e,n){t.exports=n(150)}},[[102,1,2]]]);
//# sourceMappingURL=app.89dbeb2f.chunk.js.map